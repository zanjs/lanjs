/*! lanjs v0.0.6 | (c) Fri Jun 03 2016 17:24:33 GMT+0800 (CST) zanjs | https://github.com/zanjs/lanjs */
!function(t,e){"function"==typeof define&&define.amd?define(function(){return e(t)}):"object"==typeof exports?module.exports=e:t.Lan=e(t)}(this,function(t){"use strict";var e,n,r,o,u,c={},i=function(){},l=function(t){return null===t.offsetParent},a=function(t,e){if(l(t))return!1;var n=t.getBoundingClientRect();return n.right>=e.l&&n.bottom>=e.t&&n.left<=e.r&&n.top<=e.b},d=function(){!o&&n||(clearTimeout(n),n=setTimeout(function(){c.render(),n=null},r))};return c.init=function(n){n=n||{};var l=n.offset||0,a=n.offsetVertical||l,f=n.offsetHorizontal||l,s=function(t,e){return parseInt(t||e,10)};e={t:s(n.offsetTop,a),b:s(n.offsetBottom,a),l:s(n.offsetLeft,f),r:s(n.offsetRight,f)},r=s(n.throttle,250),o=n.debounce!==!1,u=!!n.unload,i=n.callback||i,c.render(),document.addEventListener?(t.addEventListener("scroll",d,!1),t.addEventListener("load",d,!1)):(t.attachEvent("onscroll",d),t.attachEvent("onload",d))},c.render=function(){for(var n,r,o=document.querySelectorAll("img[Lan], [Lan-background]"),l=o.length,d={l:0-e.l,t:0-e.t,b:(t.innerHeight||document.documentElement.clientHeight)+e.b,r:(t.innerWidth||document.documentElement.clientWidth)+e.r},f=0;l>f;f++)r=o[f],a(r,d)?(u&&r.setAttribute("Lan-placeholder",r.src),null!==r.getAttribute("Lan-background")?r.style.backgroundImage="url("+r.getAttribute("Lan-background")+")":r.src=r.getAttribute("Lan"),u||(r.removeAttribute("Lan"),r.removeAttribute("Lan-background")),i(r,"load")):u&&(n=r.getAttribute("Lan-placeholder"))&&(null!==r.getAttribute("Lan-background")?r.style.backgroundImage="url("+n+")":r.src=n,r.removeAttribute("Lan-placeholder"),i(r,"unload"));l||c.detach()},c.detach=function(){document.removeEventListener?t.removeEventListener("scroll",d):t.detachEvent("onscroll",d),clearTimeout(n)},c});